package q554aa508dd5d4fefbf0f86e5fe953abd;

public class Solution {

    private int sum(int[] arr, int start, int end) {
        int sum = 0;
        for (int i = start; i <= end; i++) {
            sum += arr[i];
        }
        return sum;
    }

    /**
     * max sum of the subarray
     * @param arr int整型一维数组 the array
     * @return int整型
     */
    public int maxsumofSubarray (int[] arr) {
        int max = Integer.MIN_VALUE;
        int i = 0, j = 0, end = 0;
        for (; j < arr.length;) {
            if (arr[i] < 0) { // 左边为负数
                i++;
                if (j < i) { // 保证j >= i
                    j = i;
                }
                continue;
            }
            if (arr[i] + arr[j] < 0) { // 加入当前值不值得加入
                i = j + 1;
                j++;
                continue;
            }
            if (arr[j] > 0) {
                end = j;
            }
            j++;
        }
        return sum(arr, i, end);
    }

    public static void main(String[] args) {
        System.out.println(new Solution().maxsumofSubarray(new int[] {1, -2, 3, 5, -2, 6, -1}));
        System.out.println(new Solution().maxsumofSubarray(new int[] {22,44,20,64,97,74,13,70,77,40,9,15,4,70,80,8,11,44,1,49,38,70,58,41,43,41,80,58,4,40,64,54,16,28,67,55,34,64,27,91,50,53,44,13,58,99,88,50,71,75,15,21,61,19,92,44,10,53,74,44,79,28,52,93,70,89,93,63,31,31,77,30,43,12,26,91,80,98,71,22,50,43,1,46,59,53,25,63,0,94,47,39,42,45,83,85,51,64,94,77,31,36,1,67,7,96,35,19,88,34,78,46,81,12,82,76,1,56,53,40,22,5,72,3,41,24,33,78,15,40,55,71,62,22,53,96,42,73,63,48,60,99,44,0,38,95,98,7,5,65,57,26,98,45,32,49,6,44,94,8,67,53,75,35,32,81,41,99,96,60,91,15,15,66,21,43,87,18,5,88,41,95,32,62,6,86,99,68,87,37,43,24,57,23,66,9,38,58,83,71,5,19,78,6,94,22,73,15,72,27,48,86,61,82,94,66,37,20,94,72,79,16,39,61,27,55,64,83,54,11,53,60,50,4,4,55,19,7,88,45,23,53,14,13,31,78,3,12,64,56,84,22,98,11,58,67,28,67,50,63,43,50,74,26,66,46,61,17,32,41,67,71,18,5,43,1,73,52,76,19,81,16,88,97,9,4,24,46,1,34,54,40,46,71,82,18,69,62,98,60,21,1,25,55,88,14,95,35,54,87,76,27,62,42,45,89,59,26,50,79,97,37,62,54,93,12,65,31,92,82,6,37,24,5,98,5,10,56,75,10,26,19,47,57,98,94,8,42,80,90,59,1,19,49,38,62,58,71,32,45,86,24,65,51,99,27,71,79,14,95,42,10,26,64,21,80,98,78,11,52,52,26,95,96,58,59,64,3,4,55,2,89,15,55,35,86,85,91,43,87,14,75,68,31,36,27,79,16,52,84,77,96,8,16,50,64,83,34,38,33,40,92,79,77,31,56,29,78,38,99,34,20,69,25,46,90,62,91,83,37,38,55,6,69,27,92,33,22,48,95,11,28,91,59,87,71,35,93,73,16,30,9,76,86,27,24,46,50,20,24,47,0,80,47,19,79,41,64,39,5,24,80,47,9,38,46,99,18,73,84,82,99,86,28,53,46,85,32,62,95,12,10,35,40,84,69,86,91,98,66,40,61,31,75,95,50,40,99,66,15,15,60,13,15,45,8,2,74,86,98,1,90,92,86,93,45,44,12,93,11,30,45,32,58,41,83,22,9,74,10,64,73,45,6,79,32,95,58,6,96,94,80,52,81,27,3,51,87,66,84,43,37,50,29,24,49,75,93,8,58,98,89,46,56,93,85,9,3,44,65,33,88,21,92,89,2,69,61,24,23,45,41,57,13,25,2,7,65,36,7,53,87,58,98,50,44,45,80,82,31,13,69,0,40,96,29,38,32,54,12,40,87,86,59,70,97,0,93,57,90,44,79,5,70,81,76,98,65,32,94,23,68,77,58,42,30,98,36,70,40,35,25,48,69,83,95,2,71,73,49,2,92,40,12,33,30,44,19,98,0,38,72,46,82,56,73,75,49,9}));
    }
}